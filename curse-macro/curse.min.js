Macro.add("curse",{tags:null,handler:function(){function a(c){var h=Math.ceil,j=Math.floor,k=Math.pow;if(c&&c.length){const i=Array.from(c);for(const c of i)if(c&&c.nodeType===Node.TEXT_NODE){const a=c.data.split("");let l="";for(let c=0;c<a.length;c++){const i=j(k(Math.random(),2)*g),m=j(k(Math.random(),2)*g),n=random(1,10),o=random(1,10);l+=a[c],i&&(l+=b.randomMany(i).join("")),m&&(l+=d.randomMany(m).join("")),n<=g&&(l+=e.randomMany(h(g/3)).join("")),o<=g&&(l+=f.randomMany(h(g/3)).join(""))}$(c).replaceWith(l)}else c&&a(c.childNodes,$(c))}}const b=["&#768;","&#769;","&#770;","&#771;","&#772;","&#773;","&#774;","&#775;","&#776;","&#777;","&#778;","&#779;","&#780;","&#781;","&#782;","&#783;","&#784;","&#785;","&#786;","&#787;","&#788;","&#789;","&#794;","&#795;","&#829;","&#830;","&#831;","&#832;","&#833;","&#834;","&#835;","&#836;","&#838;","&#842;","&#843;","&#844;","&#848;","&#849;","&#850;","&#855;","&#856;","&#859;","&#861;","&#862;","&#864;","&#865;"],d=["&#790;","&#791;","&#792;","&#793;","&#796;","&#797;","&#798;","&#799;","&#800;","&#801;","&#802;","&#803;","&#804;","&#805;","&#806;","&#807;","&#808;","&#809;","&#810;","&#811;","&#812;","&#813;","&#814;","&#815;","&#816;","&#817;","&#818;","&#819;","&#825;","&#826;","&#827;","&#828;","&#837;","&#839;","&#840;","&#841;","&#845;","&#846;","&#851;","&#852;","&#853;","&#854;","&#857;","&#858;","&#860;","&#863;","&#866;"],e=["&#820;","&#821;","&#822;","&#823;","&#824;"],f=["&#867;","&#868;","&#869;","&#870;","&#871;","&#872;","&#873;","&#874;","&#875;","&#876;","&#877;","&#878;","&#879;"];let g=this.args[0]??3,c=$("<span>").wiki(this.payload[0].contents);a(c[0].childNodes),$(this.output).append(c.html())}});